---
- name: Setup
  block:
    - name: Setup | Pull latest docker images
      ansible.builtin.shell: "{{ docker_compose_bin }} pull"
      args:
        chdir: "{{ minio_root_directory }}"

    - name: Setup | Start minio via docker-compose with new containers
      ansible.builtin.shell: "{{ docker_compose_bin }} up -d --force-recreate"
      args:
        chdir: "{{ minio_root_directory }}"
  become: yes
  tags:
    - setup
    - minio
